---
import LayoutPhoto4 from "@assets/illustrations/layout4.webp";
import LayoutPhoto2 from "@assets/illustrations/layout2.webp";
import LayoutPhoto1 from "@assets/illustrations/layout1.webp";
import LayoutPhoto3 from "@assets/illustrations/layout3.webp";
import MailIcon from "@assets/icons/MailIcon.astro";
---

<section class="relative flex flex-col items-center justify-center gap-8 h-[175dvh] overflow-hidden ">
    <div class="absolute w-full h-full">
        <div class="white-filter -z-10"></div>
        <div class="absolute grid-overlay -z-20"></div>
    </div>
    <MailIcon />
    <h1 class="text-4xl font-bold text-center text-primary-dark">
        Convierto los objetivos<br>
        en realidad
    </h1>
    <p class="text-center text-surface max-w-xl" >
        Coordino todas las áreas corporativas detectando, 
        analizando e implantando planes de acción o proyectos que permitan a 
        las compañía aportar valor a los clientes y alcanzar sus objetivos generales.
    </p>
<div>
    <div class="item item1">
        <img
        src={LayoutPhoto2.src}
        class="rounded-2xl"
        style="translate: none; rotate: none; scale: none; transform: translate3d(0px, -144.835px, 0px);"></div>
    </div>
    <div class="item item2 rounded-2xl">
        <img
        src={LayoutPhoto4.src}
        class="rounded-2xl"
        style="translate: none; rotate: none; scale: none; transform: translate3d(0px, -144.835px, 0px);"></div>
    </div>

    <div class="item item3">
        <img
        src={LayoutPhoto3.src}
        class="rounded-2xl"
        style="translate: none; rotate: none; scale: none; transform: translate3d(0px, -144.835px, 0px);">
    </div>
    <div class="item item4"> 
        <img
        src={LayoutPhoto1.src}
        class="rounded-2xl"
        style="translate: none; rotate: none; scale: none; transform: translate3d(0px, -144.835px, 0px);">
    </div>
</div>
    

    
</section>

<style>
    .grid-overlay {
        background-size: 45px 45px;
        background-image: linear-gradient(#dee1e9 1px, transparent 1px), linear-gradient(90deg, #dee1e9 1px, transparent 1px);
        background-position: 0 0, 40px 40px;
        position: absolute;
        width: 100%;
        height: 100%;
    }

    .white-filter {
        position: absolute;
        width: 100%;
        height: 100%;
        background: radial-gradient(at center, transparent, white 75%, white 75%);
    }


  /* Estilos básicos para los elementos */
  .item {
    position:absolute;
    width: 45%;
  }

  .item img {
    width: 100%;
    height: auto;
  }

  /* Posicionamiento de cada elemento */
  .item1 { top: 20%; right: -10%; }
  .item2 { top: 25%;    left: -10%; }
  .item3 { bottom: 5%; left: -10%; }
  .item4 { bottom: 0%; right: -10%; }

</style>


<script>
  import gsap from 'gsap';
  import { ScrollTrigger } from 'gsap/ScrollTrigger';
  gsap.registerPlugin(ScrollTrigger);

  const parallaxConfig = {
    y: -200,
    ease: "none",
    scrollTrigger: {
      start: "top bottom",
      end: "bottom top",
      scrub: true,
    }
  };

  [".item1", ".item2", ".item3", ".item4"].forEach((selector) => {
    gsap.to(selector, {
      ...parallaxConfig,
      scrollTrigger: {
        ...parallaxConfig.scrollTrigger,
        trigger: selector,
      }
    });
  });
</script>